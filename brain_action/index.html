
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../mathutil/">
      
      
        <link rel="next" href="../brain_dec/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.14">
    
    
      
        <title>动作节点 - 饥荒Mod开发速查手册</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="饥荒Mod开发速查手册" class="md-header__button md-logo" aria-label="饥荒Mod开发速查手册" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            饥荒Mod开发速查手册
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              动作节点
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/user919lx/dst-qref" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../system_component/" class="md-tabs__link md-tabs__link--active">
        手册
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../about/" class="md-tabs__link">
      About
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="饥荒Mod开发速查手册" class="md-nav__button md-logo" aria-label="饥荒Mod开发速查手册" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    饥荒Mod开发速查手册
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/user919lx/dst-qref" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          手册
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          手册
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../system_component/" class="md-nav__link">
        系统组件(WIP)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../component/" class="md-nav__link">
        组件(WIP)
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          工具-Util
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          工具-Util
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../modutil/" class="md-nav__link">
        ModAPI-ModUtil
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mathutil/" class="md-nav__link">
        数学工具-MathUtil
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          AI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          AI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          动作节点
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        动作节点
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    节点列表
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    节点详情
  </a>
  
    <nav class="md-nav" aria-label="节点详情">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attackwall" class="md-nav__link">
    AttackWall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoidlight" class="md-nav__link">
    AvoidLight
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beargeroffscreen" class="md-nav__link">
    [已废弃]BeargerOffScreen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaseandattack" class="md-nav__link">
    ChaseAndAttack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaseandattackandavoid" class="md-nav__link">
    ChaseAndAttackAndAvoid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaseandram" class="md-nav__link">
    ChaseAndRam
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlminions" class="md-nav__link">
    ControlMinions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doaction" class="md-nav__link">
    DoAction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faceentity" class="md-nav__link">
    FaceEntity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#findclosest" class="md-nav__link">
    FindClosest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#findflower" class="md-nav__link">
    FindFlower
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#findlight" class="md-nav__link">
    FindLight
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow" class="md-nav__link">
    Follow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leash" class="md-nav__link">
    Leash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leashandavoid" class="md-nav__link">
    LeashAndAvoid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#panic" class="md-nav__link">
    Panic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#panicandavoid" class="md-nav__link">
    PanicAndAvoid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runaway" class="md-nav__link">
    RunAway
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stalkerchaseandattack" class="md-nav__link">
    [已废弃]StalkerChaseAndAttack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standandattack" class="md-nav__link">
    StandAndAttack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standstill" class="md-nav__link">
    StandStill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useshield" class="md-nav__link">
    UseShield
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wander" class="md-nav__link">
    Wander
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../brain_dec/" class="md-nav__link">
        修饰节点
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fx/" class="md-nav__link">
        特效(WIP)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    节点列表
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    节点详情
  </a>
  
    <nav class="md-nav" aria-label="节点详情">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attackwall" class="md-nav__link">
    AttackWall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoidlight" class="md-nav__link">
    AvoidLight
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beargeroffscreen" class="md-nav__link">
    [已废弃]BeargerOffScreen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaseandattack" class="md-nav__link">
    ChaseAndAttack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaseandattackandavoid" class="md-nav__link">
    ChaseAndAttackAndAvoid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaseandram" class="md-nav__link">
    ChaseAndRam
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlminions" class="md-nav__link">
    ControlMinions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doaction" class="md-nav__link">
    DoAction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faceentity" class="md-nav__link">
    FaceEntity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#findclosest" class="md-nav__link">
    FindClosest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#findflower" class="md-nav__link">
    FindFlower
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#findlight" class="md-nav__link">
    FindLight
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow" class="md-nav__link">
    Follow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leash" class="md-nav__link">
    Leash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leashandavoid" class="md-nav__link">
    LeashAndAvoid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#panic" class="md-nav__link">
    Panic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#panicandavoid" class="md-nav__link">
    PanicAndAvoid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runaway" class="md-nav__link">
    RunAway
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stalkerchaseandattack" class="md-nav__link">
    [已废弃]StalkerChaseAndAttack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standandattack" class="md-nav__link">
    StandAndAttack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standstill" class="md-nav__link">
    StandStill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useshield" class="md-nav__link">
    UseShield
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wander" class="md-nav__link">
    Wander
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>动作节点</h1>

<blockquote>
<p>动作节点就是最终执行游戏逻辑的节点，都是叶子节点。除了官方提供的这些，有特殊逻辑需求的，也可以考虑自己自定义。</p>
</blockquote>
<h2 id="_1">节点列表<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th align="left">name</th>
<th align="left">desc</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">AttackWall</td>
<td align="left">攻击围墙</td>
</tr>
<tr>
<td align="left">AvoidLight</td>
<td align="left">避光</td>
</tr>
<tr>
<td align="left"><strong>[已废弃]</strong>BeargerOffScreen</td>
<td align="left">已废弃，秋季BOSS熊大在离开屏幕后的行为</td>
</tr>
<tr>
<td align="left">ChaseAndAttack</td>
<td align="left">追逐并攻击</td>
</tr>
<tr>
<td align="left">ChaseAndAttackAndAvoid</td>
<td align="left">追逐、攻击并躲避</td>
</tr>
<tr>
<td align="left">ChaseAndRam</td>
<td align="left">追逐并冲撞</td>
</tr>
<tr>
<td align="left">ControlMinions</td>
<td align="left">控制子体</td>
</tr>
<tr>
<td align="left">DoAction</td>
<td align="left">通用的动作节点</td>
</tr>
<tr>
<td align="left">FaceEntity</td>
<td align="left">面向某个实体</td>
</tr>
<tr>
<td align="left">FindClosest</td>
<td align="left">寻找最近的单位</td>
</tr>
<tr>
<td align="left">FindFlower</td>
<td align="left">寻找花，用于蜜蜂和蝴蝶。</td>
</tr>
<tr>
<td align="left">FindLight</td>
<td align="left">寻找光</td>
</tr>
<tr>
<td align="left">Follow</td>
<td align="left">跟随，令生物跟随目标移动</td>
</tr>
<tr>
<td align="left">Leash</td>
<td align="left">绑定，令生物绑定在它的领地上，不会到处乱跑</td>
</tr>
<tr>
<td align="left">LeashAndAvoid</td>
<td align="left">绑定并躲避</td>
</tr>
<tr>
<td align="left">Panic</td>
<td align="left">慌乱，访问到节点时，生物会随机乱窜。</td>
</tr>
<tr>
<td align="left">PanicAndAvoid</td>
<td align="left">慌乱并躲避</td>
</tr>
<tr>
<td align="left">RunAway</td>
<td align="left">逃离，让生物远离特定目标</td>
</tr>
<tr>
<td align="left"><strong>[已废弃]</strong>StalkerChaseAndAttack</td>
<td align="left">已废弃，官方推荐使用ChaseAndAttackAndAvoid替代</td>
</tr>
<tr>
<td align="left">StandAndAttack</td>
<td align="left">站在原地攻击</td>
</tr>
<tr>
<td align="left">StandStill</td>
<td align="left">站在原地不动</td>
</tr>
<tr>
<td align="left">UseShield</td>
<td align="left">使用护盾防御</td>
</tr>
<tr>
<td align="left">Wander</td>
<td align="left">漫游，生物会在自己的家附近游荡。</td>
</tr>
</tbody>
</table>
<h2 id="_2">节点详情<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>动作节点就是最终执行游戏逻辑的节点，都是叶子节点。除了官方提供的这些，有特殊逻辑需求的，也可以考虑自己自定义。</p>
<h3 id="attackwall">AttackWall<a class="headerlink" href="#attackwall" title="Permanent link">&para;</a></h3>
<p>攻击围墙，构造参数只有一个inst，即要实施动作的角色。这个节点会让角色在一系列判断之后尝试攻击围墙。</p>
<h3 id="avoidlight">AvoidLight<a class="headerlink" href="#avoidlight" title="Permanent link">&para;</a></h3>
<p>避光，构造参数只有一个inst，即要实施动作的角色。这个节点会让角色尝试躲避光线，并未实际用在任何brain中，但在spier的brain中有require。</p>
<h3 id="beargeroffscreen">[已废弃]BeargerOffScreen<a class="headerlink" href="#beargeroffscreen" title="Permanent link">&para;</a></h3>
<p>秋季BOSS熊大在离开屏幕后的行为定义。这个节点是专为熊大设计的，在早期的代码中有使用，目前已经废弃，不再使用，所以也无需了解</p>
<h3 id="chaseandattack">ChaseAndAttack<a class="headerlink" href="#chaseandattack" title="Permanent link">&para;</a></h3>
<p>追逐并攻击。这个节点的参数inst, max_chase_time, give_up_dist, max_attacks, findnewtargetfn, walk，分别为执行动作的对象， 最大追击时间，最大追击距离，最大攻击次数，寻找新目标的函数，是否走路（否则是跑步）。这个节点会让生物在限定条件下，尝试追逐目标并攻击。这个节点默认的执行流程中，并不包含寻找攻击目标的内容，因此，要么定义findnewtargetfn，要么就通过其它的方式来为生物赋予一个攻击目标。在官方代码中，大多数ChaseAndAttack节点都没有findnewtargetfn，是通过其它方式来实现目标设置的。最常见的就是保持默认设置：生物被攻击后，会把攻击者设置为攻击目标。</p>
<h3 id="chaseandattackandavoid">ChaseAndAttackAndAvoid<a class="headerlink" href="#chaseandattackandavoid" title="Permanent link">&para;</a></h3>
<p>追逐、攻击并躲避。这个节点的参数inst, findavoidanceobjectfn, avoid_dist, max_chase_time, give_up_dist, max_attacks, findnewtargetfn, walk，可以看到基本和ChaseAndAttack类似，区别在于增加了两个参数findavoidanceobjectfn, avoid_dist。也就是这个节点会在追逐攻击的同时，试图躲避某些目标。比如猪人战士，在攻击时回调整自己的攻击位置，避免过于靠近猪王。findavoidanceobjectfn, avoid_dist分别表示找到躲避目标的函数和躲避的距离。</p>
<h3 id="chaseandram">ChaseAndRam<a class="headerlink" href="#chaseandram" title="Permanent link">&para;</a></h3>
<p>追逐并冲撞。节点参数inst, max_chase_time, give_up_dist, max_charge_dist, max_attacks，分别是生物自身，最大追逐时间，最大追逐距离，最大冲撞距离，最大攻击次数。如果目标与自身的距离超过最大冲撞距离，就无法实行冲撞。这个节点用于秋季BOSS，地下的犀牛BOSS这些具有冲撞能力的BOSS上。</p>
<h3 id="controlminions">ControlMinions<a class="headerlink" href="#controlminions" title="Permanent link">&para;</a></h3>
<p>控制子体。这个节点仅在食人花上使用，控制食人花的子体。它会在子体的控制范围内进行一系列的行动，比如捡起地上的东西或者收获农场的食物等。</p>
<h3 id="doaction">DoAction<a class="headerlink" href="#doaction" title="Permanent link">&para;</a></h3>
<p>通用的动作节点。节点参数inst, getactionfn, name, run, timeout，分别是生物自身，获取动作的函数（返回值必须是一个动作），是否在执行动作时跑起来，超时时间。这个节点可以通过设置getactionfn来让生物在满足某些条件的情况下执行特定动作，最常见的就是在某些条件下执行回家的动作。</p>
<h3 id="faceentity">FaceEntity<a class="headerlink" href="#faceentity" title="Permanent link">&para;</a></h3>
<p>面向某个实体。节点参数inst, getfn, keepfn, timeout，分别是生物自身，搜寻目标的函数，保留目标的判断函数，超时时间。这个节点可以让生物面向特定的对象。如果你仔细观察跟随你的生物，你会发现它们在静止时总是面向你的，这就是FaceEntity在发挥作用。</p>
<h3 id="findclosest">FindClosest<a class="headerlink" href="#findclosest" title="Permanent link">&para;</a></h3>
<p>寻找最近的单位。节点参数inst, see_dist, safe_dist, tags, exclude_tags, one_of_tags，分别是生物自身，搜寻距离，安全距离（当搜寻到目标后，会尝试移动到安全距离内），搜寻标签（搜寻单位必须包含全部的标签），排除标签（搜寻单位不能其中的一个标签），其中之一标签（如果这个参数不为空，则可以无视前两个参数，只要单位具有这个参数中的任意一个标签就算是匹配了）。这个节点主要用于寻找符合标签要求的目标，并且自动移动到目标附近。</p>
<h3 id="findflower">FindFlower<a class="headerlink" href="#findflower" title="Permanent link">&para;</a></h3>
<p>从名字就可以看出来，这个节点的作用就是寻找花，用于蜜蜂和蝴蝶。</p>
<h3 id="findlight">FindLight<a class="headerlink" href="#findlight" title="Permanent link">&para;</a></h3>
<p>寻找光。节点参数是inst, see_dist, safe_dist，分别为生物自身，搜寻距离，安全距离。参数具体含义同FindClosest。这个节点就是为了寻找光源，用于猪人。</p>
<h3 id="follow">Follow<a class="headerlink" href="#follow" title="Permanent link">&para;</a></h3>
<p>跟随。这个节点会令生物跟随目标移动。</p>
<p>节点参数如下</p>
<ul>
<li>inst: 生物自身</li>
<li>target: 搜寻跟随目标的函数</li>
<li>min_dist: 最小距离（目标与生物之间的距离低于此距离，生物会远离目标，直到距离大于target_dist）</li>
<li>target_dist: 目标距离（最合适的距离）</li>
<li>max_dist: 最大距离（目标与生物之间的距离高于此距离，生物会靠近目标，直到距离小于target_dist）</li>
<li>canrun: 是否可以奔跑，决定移动时是走还是跑</li>
</ul>
<h3 id="leash">Leash<a class="headerlink" href="#leash" title="Permanent link">&para;</a></h3>
<p>绑定。这个节点会令生物绑定在它的领地上，不会到处乱跑。节点参数inst, homelocation, max_dist, inner_return_dist, running，分别为生物自身，领地位置（可以是具体坐标或一个函数），最大距离（超过此距离时，生物会停止走动，结束本轮的检测），返回距离（超过此距离时，生物会试图返回领地位置），返回时是否奔跑。这个节点实际生效的场景是这样的，生物追逐玩家跑出的领地的最大距离后，会先停在原地，然后等到下一次检测时，返回原本位置。
如果在游戏中仔细观察，就会注意到很多有领地的生物比如龙蝇，在追得太远时都会先停一下才返回。</p>
<h3 id="leashandavoid">LeashAndAvoid<a class="headerlink" href="#leashandavoid" title="Permanent link">&para;</a></h3>
<p>绑定并躲避。和ChaseAndAttackAndAvoid类似，参数设置也相似，就是在Leash的基础上增加了躲避，同样也仅仅用于猪人守卫，不再赘述。</p>
<h3 id="panic">Panic<a class="headerlink" href="#panic" title="Permanent link">&para;</a></h3>
<p>慌乱。这个动作执行时，生物会随机乱窜。</p>
<h3 id="panicandavoid">PanicAndAvoid<a class="headerlink" href="#panicandavoid" title="Permanent link">&para;</a></h3>
<p>慌乱并躲避，和ChaseAndAttackAndAvoid类似，同样也仅仅用于猪人守卫，不再赘述。</p>
<h3 id="runaway">RunAway<a class="headerlink" href="#runaway" title="Permanent link">&para;</a></h3>
<p>逃离。这个节点可以让生物远离特定目标（这里称为hunter），还可以回家。常见于兔子等生物。
节点参数如下
* inst: 生物自身
* hunterparams: hunter的相关参数如搜寻函数、标签等
* see_dist: 搜寻距离，当发现hunter小于此距离时，会逃跑
* safe_dist: 安全距离，开始逃跑后，当hunter大于此时，就会停下
* fn: 额外的判定fn，如果这个参数不为空，需要fn返回true才会逃跑
* runhome: 是否跑回家。
* fix_overhang: 如果参数为true，则会检测生物的位置，如果在海上会被移动到陆地</p>
<h3 id="stalkerchaseandattack">[已废弃]StalkerChaseAndAttack<a class="headerlink" href="#stalkerchaseandattack" title="Permanent link">&para;</a></h3>
<p>一个过期的节点，官方推荐使用ChaseAndAttackAndAvoid替代</p>
<h3 id="standandattack">StandAndAttack<a class="headerlink" href="#standandattack" title="Permanent link">&para;</a></h3>
<p>站在原地攻击。部分没有移动能力的生物，会使用这个节点而不是ChaseAndAttack。参数inst, findnewtargetfn，分别是生物自身，和寻找新目标的函数。第二个参数在官方的代码中并没有用到过。</p>
<h3 id="standstill">StandStill<a class="headerlink" href="#standstill" title="Permanent link">&para;</a></h3>
<p>站在原地不动。参数inst, startfn, keepfn，分别是生物自身，开始这个动作的判定函数，保持这个动作的判定函数。这个动作节点很简单，就是让生物保持站在原地不动，如果startfn和keepfn为空，则不需要任何条件，只要行为树访问到这里，就会执行这个动作，保持不动。</p>
<h3 id="useshield">UseShield<a class="headerlink" href="#useshield" title="Permanent link">&para;</a></h3>
<p>使用护盾防御。石虾在被攻击时经常会使用这个动作。参数inst, damageforshield, shieldtime, hidefromprojectiles, hidewhenscared，分别为生物自身，当自身收到伤害多少时开启护盾防御，防御持续时间，是否防御远程攻击，在受惊时是否防御。
这个节点制定了进入防御状态和退出防御状态的逻辑，实质上是触发了两个事件，分别是entershield和exitshield。如果你希望构建一种具备防御姿势的生物，可以考虑使用这个节点，并且为事件entershield和exitshield设置相应的回调函数（在官方代码中，是设置了相应的SG的EventHandler)</p>
<h3 id="wander">Wander<a class="headerlink" href="#wander" title="Permanent link">&para;</a></h3>
<p>漫游。生物会在自己的家附近游荡。</p>
<p>参数说明</p>
<ul>
<li>inst: 生物自身</li>
<li>homelocation: 家的位置，可以是具体的位置或者一个函数</li>
<li>max_dist: 最大游荡距离，生物与家的距离超过此距离时，就会往家里走</li>
<li>times: 这是一个times，分别有minwalktime，randwalktime，minwaittime，randwaittime四个子key，用于设置漫游中间的间隔时间，不需要填完全部参数，都不填也可以，都有默认设置的相应时间。</li>
<li>getdirectionFn: 获取返回的行走角度的函数，没有的时候就随机取一个角度</li>
<li>setdirectionFn: 修正返回行走角度的函数，没有的话就略过。</li>
<li>checkpointFn: 搜寻路径用的检测函数，有时用于绕过围墙。</li>
</ul>
<p>getdirectionFn，setdirectionFn，checkpointFn这三个参数在实际的使用中较少用到，一般情况下可以忽略。</p>





  <h2 id="__comments">评论</h2>
  <script src="https://giscus.app/client.js"
    data-repo="user919lx/DST-QREF-giscus"
    data-repo-id="R_kgDOJYQ8Xw"
    data-category="Announcements"
    data-category-id="DIC_kwDOJYQ8X84CV3He"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="light"
    data-lang="zh-CN"
    crossorigin="anonymous"
    async>
  </script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:xingxing_fisher@163.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.7l167.6-182.9c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "toc.follow", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>